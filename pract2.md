# Практическое занятие №2

П.Н. Советов, РТУ МИРЭА

## Задача 1

Скомпилируйте интерпретатор Lua и научитесь подключать его к своим программам в виде статической библиотеки.

Напишите, используя Lua C API, программу, которая выведет приветствие на экран с помощью кода на Lua.

## Задача 2

Напишите, используя Lua C API, программу для вычисления дискриминанта. Пользоваться можно только стековыми операциями C API.

## Задача 3

Добавьте к интерпретатору Lua С-функцию rnd – ГПСЧ. В качестве алгоритма генерации используйте [xorshift32](https://en.wikipedia.org/wiki/Xorshift).

Проверьте результат на тестовой Lua-программе.

## Задача 4

Добавьте к интерпретатору Lua С-функцию hex – такую же, как в Питоне. Проверьте результат на тестовой Lua-программе.

## Задача 5

Добавьте к интерпретатору Lua С-функцию sum – такую же, как в Питоне. Проверьте результат на тестовой Lua-программе.

## Задача 6

С помощью Lua C API создайте модуль utils с функциями rnd, hex и sum. Проверьте результат на тестовой Lua-программе.

## Задача 7

Реализуйте с помощью Lua C API итератор для цикла for, который позволит пройти по всем файлам в заданной директории. Проверьте результат на тестовой Lua-программе.

## Задача 8

Нарисуйте «Черный квадрат» с помощью кода на Lua. Для этого вам потребуется ядро на C с добавлением созданных вами Lua-функций для рисования.

## Задача 9

Реализуйте миниатюрный игровой движок с использованием архитектуры: ядро на C+SDL и интерпретатор Lua. Должен поддерживаться вывод графики на экран и ввод с клавиатуры.
Реализуйте простую игру для демонстрации возможностей созданного движка.

## Задача 10

Научитесь подключать C-расширения на Питоне с помощью модуля ctypes.

Реализуйте модуль на Питоне, в котором находится функция для вычисления обратного квадратного корня. Сами вычисления производятся силами функции rsqrt из динамической библиотеки на C.
Должен использоваться [классический алгоритм](https://ru.wikipedia.org/wiki/%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9_%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B9_%D0%BA%D0%B2%D0%B0%D0%B4%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D1%8C), ставший популярным после публикации исходных кодов игры Quake III Arena.

Сравните быстродействие с реализацией только на Питоне.

## Задача 11

Реализуйте модуль на Питоне для [экспоненциального сглаживания](https://ru.wikipedia.org/wiki/%D0%AD%D0%BA%D1%81%D0%BF%D0%BE%D0%BD%D0%B5%D0%BD%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D1%81%D0%B3%D0%BB%D0%B0%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5) значений в списке. Сами вычисления производятся силами функции smooth из динамической библиотеки на C.

Сравните быстродействие с реализацией только на Питоне.

## Задача 12

Создайте динамическую библиотеку на C с ранее разработанными функциями rnd, sum, rsqrt и smooth. Реализуйте языковое связывание для следующих языков:

* Lua,
* Питон,
* С# или Java, на выбор.
